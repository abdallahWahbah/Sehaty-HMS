<div class="login">
    <div class="login__logo">
        <img src="/images/logo.png" alt="main logo" class="login__logo--image">
    </div>
    <div class="login__main--container">
        <div class="login__content">
            @if(serverError){
                <div class="server-error">
                    <span>{{ serverError }}</span>
                </div>
            }
            <h3 class="login__header">Login</h3>
            <p class="login__sub--header">Login to access your account</p>

            <form [formGroup]="loginForm" (ngSubmit)="onSubmit()">
                <p-floatlabel variant="on" class="login__input--container">
                    <input 
                        pInputText 
                        id="username" 
                        autocomplete="off" 
                        formControlName="username"
                    />
                    <label for="username">Username</label>
                </p-floatlabel>
                @if(loginForm.get('username')?.touched && loginForm.get('username')?.invalid){
                    <div class="error-text">
                        @if(loginForm.get('username')?.errors?.['required']){
                            <span>username is required</span>
                        }
                    </div>
                }
    
                <p-floatlabel variant="on" class="login__input--container">
                    <p-password 
                        formControlName="password"
                        inputId="password" 
                        [toggleMask]="true"  
                    />
                    <label for="password">Password</label>
                </p-floatlabel> 
                    @if(loginForm.get('password')?.touched && loginForm.get('password')?.invalid){
                        <div class="error-text">
                            
                            @if(loginForm.get('password')?.errors?.['required']){
                            <span>Password is required</span>
                            }

                            @if(loginForm.get('password')?.errors?.['minlength']){
                            <span>Minimum 6 characters</span>
                            }

                            @if(loginForm.get('password')?.errors?.['pattern']){
                            <span>
                                Must contain:
                                <br>• Uppercase letter
                                <br>• Lowercase letter
                                <br>• Number
                                <br>• Special character
                                <br>• No spaces
                            </span>
                            }

                        </div>
                    }
    
                <div class="login__check--forget-container">
                    <div class="flex items-center">
                        <p-checkbox 
                            formControlName="rememberMe"
                            [binary]="true"  
                        />
                        <label for="ingredient1" class="ml-2" class="checkbox__label"> Remember Me </label>
                    </div>
                    <p class="login__forget--text">Forgot password</p>
                </div>
    
                <div class="card flex justify-center login__button--container">
                    <p-button type="submit" label="Login" />
                </div>
    
                <div class="login__no--account-container">
                    <span>Don't have an account?</span>
                    <span> <a routerLink="/signup"> Sign up</a></span>
                </div>
            </form>

        </div>
        <div class="login__image--container">
            <img src="/images/login.jpg" alt="" class="login__image">
        </div>
    </div>
</div>